<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{fragments::head}">
    <title id="titlePage">Cadastrar Vantagem</title>
    <script id="personalScript">
        function validaPreco() {
            const el = document.getElementById("preco");
            if(el.value < 1){
                el.value = 1;
            }
        }
    </script>
</head>

<body>
<!-- Header -->
<header th:replace="~{fragments::header}"></header>


<!-- Mensagens -->
<div th:if="${erro != null}" class="row message-error mt-5 mx-auto align-items-center" style="max-width: 900px;">
    <h4 th:if="${erro == 0}">ERRO: Verifique se os dados estão corretos.</h4>
    <h4 th:if="${erro == 1}">Por favor, insira um nome para a sua vantagem.</h4>
    <h4 th:if="${erro == 2}">Por favor, insira um valor para a sua vantagem.</h4>
    <h4 th:if="${erro == 3}">Por favor, insira uma descrição para a sua vantagem.</h4>
</div>

<div th:if="${aluno != null}" class="row message-sucess mt-5 mx-auto align-items-center" style="max-width: 900px;">
    <h4 th:text="'Você enviou ' + ${qtd} + ' moedas para ' + ${aluno} + '!'	"></h4>
</div>

<!-- Conteúdo -->
<section class="container">
    <form th:action="${'/vantagem/editar/' + v.id}" method="post" class="form my-5 mx-auto">
        <h1 class="col-12 text-center mt-5 px-2">Editar Vantagem</h1>
        <div class="row justify-content-center">
            <div class="form-floating col-5 mt-3">
                <input type="text" name="produto" id="produto" class="form-control" placeholder="label" th:value="${v.produto}">
                <label for="produto" class="form-label">Nome da vantagem</label>
            </div>
            <div class="form-floating col-5 mt-3">
                <input onchange="validaPreco()" type="number" name="valor" id="valor" min="1" class="form-control" placeholder="label" th:value="${v.valor}">
                <label for="valor" class="form-label">Preço</label>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="form-floating col-10 mt-3">
                <input type="text" name="descricao" id="descricao" class="form-control" placeholder="label" th:value="${v.descricao}">
                <label for="descricao" class="form-label">Descrição</label>
            </div>
        </div>
        <div class="row justify-content-center">
            <button type="submit" class="col-5 my-3 btn btn-dark h-100">Salvar</button>
        </div>
    </form>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>