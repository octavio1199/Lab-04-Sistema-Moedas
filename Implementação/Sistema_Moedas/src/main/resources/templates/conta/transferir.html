<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{fragments::head}">
    <title id="titlePage">Transferir Moedas</title>
    <script id="personalScript">
	</script>
</head>

<body>
    <header th:replace="~{fragments::header}"></header>
	<div th:if="${erro}" class="row message-error mt-5 mx-auto align-items-center" style="max-width: 900px;">
		<h4 th:if="${erro == 0}">ERRO: Verifique se os dados estão corretos.</h4>
		<h4 th:if="${erro == 1}">ERRO: Saldo insuficiente.</h4>
	</div>
	<div th:if="${aluno != null}" class="row message-sucess mt-5 mx-auto align-items-center" style="max-width: 900px;">
		<h4 th:text="'Você enviou ' + ${qtd} + ' moedas para ' + ${aluno} + '!'	"></h4>
	</div>
    <section class="container">
        <form action="/conta/transferencia" method="post" class="form my-5 mx-auto">
        <h1 class="col-12 text-center mt-5 px-2">Transferir Moedas</h1>
            <div class="row justify-content-center">
            	<div class="form-floating col-5 mt-3">
                	<input type="number" name="qtdMoedas" id="qtdMoedas" min="1" class="form-control" placeholder="label">
                	<label for="qtdMoedas" class="form-label">Quantidade de moedas</label>
	            </div>
    	        <div class="form-floating col-5 mt-3">
        	        <input type="text" name="descricao" id="descricao" class="form-control" placeholder="label">
            	    <label for="descricao" class="form-label">Motivo</label>
	            </div>
     	       <div class="form-floating col-10 mt-3">
        	        <select class="form-select" name="alunoId" id="alunoId">
            	        <option selected disabled>Selecione o aluno</option>
                	    <div th:each=" a: ${alunos}">
                    	    <option th:value="${a.id}" th:text="${a.nome}"></option>
                    	</div>
                	</select>
            	</div>
            </div>
            
            <div class="row justify-content-center">
                <button type="submit" class="col-5 my-3 btn btn-primary h-100">Transferir</button>
            </div>
            
        </form>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>